module.exports=[79757,a=>{"use strict";a.s(["default",()=>n],79757);var b=a.i(87924),c=a.i(16100),d=a.i(72131),e=a.i(60246),f=a.i(15618),g=a.i(87532),h=a.i(24569),i=a.i(77156),j=a.i(46864);let k=(0,a.i(70106).default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var l=a.i(44333),m=a.i(42022);function n(){return(0,b.jsx)(m.ProtectedRoute,{children:(0,b.jsx)(l.DashboardLayout,{children:(0,b.jsx)(o,{})})})}function o(){let{user:a}=(0,c.useAuth)(),[l,m]=(0,d.useState)([]),[n,o]=(0,d.useState)(!0),[p,q]=(0,d.useState)(""),[r,s]=(0,d.useState)(""),[t,u]=(0,d.useState)(""),[v,w]=(0,d.useState)(!1),[x,y]=(0,d.useState)({firstName:"",lastName:"",email:"",password:"",role:"employee",designation:"",phone:"",department:"",salary:""});(0,d.useEffect)(()=>{z()},[]);let z=async()=>{try{let a=await fetch("http://localhost:5000/api/employees",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(a.ok){let b=await a.json();m(b.data.employees)}}catch(a){console.error("Error fetching employees:",a)}finally{o(!1)}},A=l.filter(a=>{let b=a.firstName.toLowerCase().includes(p.toLowerCase())||a.lastName.toLowerCase().includes(p.toLowerCase())||a.email.toLowerCase().includes(p.toLowerCase())||a.employeeId?.toLowerCase().includes(p.toLowerCase()),c=!r||a.role===r,d=!t||("active"===t?a.isActive:!a.isActive);return b&&c&&d}),B=async(a,b)=>{try{(await fetch(`http://localhost:5000/api/employees/${a}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({isActive:b})})).ok&&z()}catch(a){console.error("Error updating employee status:",a)}},C=async a=>{a.preventDefault();try{(await fetch("http://localhost:5000/api/employees",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify(x)})).ok&&(w(!1),y({firstName:"",lastName:"",email:"",password:"",role:"employee",designation:"",phone:"",department:"",salary:""}),z())}catch(a){console.error("Error adding employee:",a)}};return n?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})})}):(0,b.jsxs)("div",{className:"p-6 relative",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-light tracking-tight text-foreground",children:"Employee Management"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage your team members and their information"})]}),(0,b.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:[(0,b.jsx)(f.Plus,{className:"w-4 h-4"}),"Add Employee"]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,b.jsx)("input",{type:"text",placeholder:"Search employees...",value:p,onChange:a=>q(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("select",{value:r,onChange:a=>s(a.target.value),className:"px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,b.jsx)("option",{value:"",children:"All Roles"}),(0,b.jsx)("option",{value:"admin",children:"Admin"}),(0,b.jsx)("option",{value:"project_manager",children:"Project Manager"}),(0,b.jsx)("option",{value:"employee",children:"Employee"})]}),(0,b.jsxs)("select",{value:t,onChange:a=>u(a.target.value),className:"px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-muted/50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Employee"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Role"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Department"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-border",children:A.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-muted/50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:(0,b.jsxs)("span",{className:"text-sm font-medium text-primary",children:[a.firstName[0],a.lastName[0]]})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-foreground",children:[a.firstName," ",a.lastName]}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:a.email}),a.employeeId&&(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["ID: ",a.employeeId]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-primary/10 text-primary rounded-full capitalize",children:a.role.replace("_"," ")})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:a.department||"Not assigned"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${a.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.isActive?"Active":"Inactive"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{className:"text-muted-foreground hover:text-foreground transition-colors",children:(0,b.jsx)(i.Eye,{className:"w-4 h-4"})}),(0,b.jsx)("button",{className:"text-muted-foreground hover:text-foreground transition-colors",children:(0,b.jsx)(h.Edit,{className:"w-4 h-4"})}),a.isActive?(0,b.jsx)("button",{onClick:()=>B(a._id,!1),className:"text-red-500 hover:text-red-700 transition-colors",children:(0,b.jsx)(k,{className:"w-4 h-4"})}):(0,b.jsx)("button",{onClick:()=>B(a._id,!0),className:"text-green-500 hover:text-green-700 transition-colors",children:(0,b.jsx)(j.UserCheck,{className:"w-4 h-4"})})]})})]},a._id))})]})}),0===A.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(e.Users,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No employees found"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsx)("div",{className:"bg-card border border-border rounded-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Employees"}),(0,b.jsx)("p",{className:"text-2xl font-light text-foreground",children:l.length})]}),(0,b.jsx)(e.Users,{className:"w-8 h-8 text-muted-foreground"})]})}),(0,b.jsx)("div",{className:"bg-card border border-border rounded-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active"}),(0,b.jsx)("p",{className:"text-2xl font-light text-foreground",children:l.filter(a=>a.isActive).length})]}),(0,b.jsx)(j.UserCheck,{className:"w-8 h-8 text-green-500"})]})}),(0,b.jsx)("div",{className:"bg-card border border-border rounded-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Inactive"}),(0,b.jsx)("p",{className:"text-2xl font-light text-foreground",children:l.filter(a=>!a.isActive).length})]}),(0,b.jsx)(k,{className:"w-8 h-8 text-red-500"})]})}),(0,b.jsx)("div",{className:"bg-card border border-border rounded-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Admins"}),(0,b.jsx)("p",{className:"text-2xl font-light text-foreground",children:l.filter(a=>"admin"===a.role).length})]}),(0,b.jsx)(e.Users,{className:"w-8 h-8 text-primary"})]})})]})]}),v&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-card p-6 rounded-lg w-full max-w-md mx-4",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add New Employee"}),(0,b.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),(0,b.jsx)("input",{type:"text",required:!0,value:x.firstName,onChange:a=>y({...x,firstName:a.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),(0,b.jsx)("input",{type:"text",required:!0,value:x.lastName,onChange:a=>y({...x,lastName:a.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",required:!0,value:x.email,onChange:a=>y({...x,email:a.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password"}),(0,b.jsx)("input",{type:"password",required:!0,value:x.password,onChange:a=>y({...x,password:a.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Role"}),(0,b.jsxs)("select",{value:x.role,onChange:a=>y({...x,role:a.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,b.jsx)("option",{value:"employee",children:"Employee"}),(0,b.jsx)("option",{value:"project_manager",children:"Project Manager"}),(0,b.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Designation"}),(0,b.jsx)("input",{type:"text",required:!0,value:x.designation,onChange:a=>y({...x,designation:a.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),(0,b.jsx)("input",{type:"tel",value:x.phone,onChange:a=>y({...x,phone:a.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Department"}),(0,b.jsx)("input",{type:"text",value:x.department,onChange:a=>y({...x,department:a.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Salary"}),(0,b.jsx)("input",{type:"number",value:x.salary,onChange:a=>y({...x,salary:a.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Add Employee"})]})]})]})})]})}}];

//# sourceMappingURL=src_app_employees_page_jsx_be317c6b._.js.map